

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Debugging &#8212; Programming for Quantitative Economics</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/jupyter-sphinx.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/mystnb.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .secondtoggle, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="More Language Features" href="python_advanced_features.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          

<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/qe-logo-large.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Programming for Quantitative Economics</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  
  <ul class="nav sidenav_l1">
<li class="navbar-special">
<p class="margin-caption">Introduction to Python</p>
</li>
  <li class="">
    <a href="about_py.html">About Python</a>
  </li>
  <li class="">
    <a href="getting_started.html">Setting up Your Python Environment</a>
  </li>
  <li class="">
    <a href="python_by_example.html">An Introductory Example</a>
  </li>
  <li class="">
    <a href="functions.html">Functions</a>
  </li>
  <li class="">
    <a href="python_essentials.html">Python Essentials</a>
  </li>
  <li class="">
    <a href="oop_intro.html">OOP I: Introduction to Object Oriented Programming</a>
  </li>
  <li class="">
    <a href="python_oop.html">OOP II: Building Classes</a>
  </li>
<li class="navbar-special">
<p class="margin-caption">Scientific Libraries</p>
</li>
  <li class="">
    <a href="need_for_speed.html">Python for Scientific Computing</a>
  </li>
  <li class="">
    <a href="numpy.html">NumPy</a>
  </li>
  <li class="">
    <a href="matplotlib.html">Matplotlib</a>
  </li>
  <li class="">
    <a href="scipy.html">SciPy</a>
  </li>
  <li class="">
    <a href="numba.html">Numba</a>
  </li>
  <li class="">
    <a href="parallelization.html">Parallelization</a>
  </li>
  <li class="">
    <a href="pandas.html">Pandas</a>
  </li>
<li class="navbar-special">
<p class="margin-caption">Advanced Python</p>
</li>
  <li class="">
    <a href="writing_good_code.html">Writing Good Code</a>
  </li>
  <li class="">
    <a href="python_advanced_features.html">More Language Features</a>
  </li>
  <li class="active">
    <a href="">Debugging</a>
  </li>
</ul>
</nav>
<p class="navbar_footer">Powered by <a href="https://jupyterbook.org">Jupyter Book</a></p>
</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse" data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu" aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation" title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        <div class="dropdown-buttons-trigger">
            <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i class="fas fa-download"></i></button>

            
            <div class="dropdown-buttons">
                <!-- ipynb file if we had a myst markdown file -->
                
                <!-- Download raw file -->
                <a class="dropdown-buttons" href="../_sources/docs/debugging.md.txt"><button type="button" class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip" data-placement="left">.md</button></a>
                <!-- Download PDF via print -->
                <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF" onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
            </div>
            
        </div>

        <!-- Edit this page -->
        

        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->
        
        <div class="dropdown-buttons-trigger">
            <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
            <div class="dropdown-buttons">
                
                <a class="binder-button" href="https://mybinder.org/v2/gh/ExecutableBookProject/quantecon-example/master?urlpath=tree/qe_book/docs/debugging.md"><button type="button" class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip" data-placement="left"><img class="binder-button-logo" src="../_static/images/logo_binder.svg" alt="Interact on binder">Binder</button></a>
                
                
                
            </div>
        </div>
        

        
    </div>
    <div class="d-none d-md-block col-md-2 bd-toc show">
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#overview" class="nav-link">Overview</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#id2" class="nav-link">Debugging</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#the-debug-magic" class="nav-link">The debug Magic</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#setting-a-break-point" class="nav-link">Setting a Break Point</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#other-useful-magics" class="nav-link">Other Useful Magics</a>
        </li>
    
    </ul>
</nav>


    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="debugging">
<span id="id1"></span><h1>Debugging<a class="headerlink" href="#debugging" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><p>“Debugging is twice as hard as writing the code in the first place.
Therefore, if you write the code as cleverly as possible, you are, by
definition, not smart enough to debug it.” – Brian Kernighan</p>
</div></blockquote>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Are you one of those programmers who fills their code with <code class="docutils literal notranslate"><span class="pre">print</span></code>
statements when trying to debug their programs?</p>
<p>Hey, we all used to do that.</p>
<p>(OK, sometimes we still do that…)</p>
<p>But once you start writing larger programs you’ll need a better system.</p>
<p>Debugging tools for Python vary across platforms, IDEs and editors.</p>
<p>Here we’ll focus on Jupyter and leave you to explore other settings.</p>
<p>We’ll need the following imports</p>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id2">
<h2>Debugging<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-debug-magic">
<h3>The <code class="docutils literal notranslate"><span class="pre">debug</span></code> Magic<a class="headerlink" href="#the-debug-magic" title="Permalink to this headline">¶</a></h3>
<p>Let’s consider a simple (and rather contrived) example</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_log</span><span class="p">():</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plot_log</span><span class="p">()</span>  <span class="c1"># Call the function, generate plot</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="n">c32a2280f47b</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> 
<span class="ne">----&gt; </span><span class="mi">7</span> <span class="n">plot_log</span><span class="p">()</span>  <span class="c1"># Call the function, generate plot</span>

<span class="nn">&lt;ipython-input-2-c32a2280f47b&gt;</span> in <span class="ni">plot_log</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>     <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="ne">----&gt; </span><span class="mi">4</span>     <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> 

<span class="ne">AttributeError</span>: &#39;numpy.ndarray&#39; object has no attribute &#39;plot&#39;
</pre></div>
</div>
<img alt="../_images/debugging_3_1.png" src="../_images/debugging_3_1.png" />
</div>
</div>
<p>This code is intended to plot the <code class="docutils literal notranslate"><span class="pre">log</span></code> function over the interval
<span class="math notranslate nohighlight">\([1, 2]\)</span>.</p>
<p>But there’s an error here: <code class="docutils literal notranslate"><span class="pre">plt.subplots(2,</span> <span class="pre">1)</span></code> should be just
<code class="docutils literal notranslate"><span class="pre">plt.subplots()</span></code>.</p>
<p>(The call <code class="docutils literal notranslate"><span class="pre">plt.subplots(2,</span> <span class="pre">1)</span></code> returns a NumPy array containing two axes
objects, suitable for having two subplots on the same figure)</p>
<p>The traceback shows that the error occurs at the method call
<code class="docutils literal notranslate"><span class="pre">ax.plot(x,</span> <span class="pre">np.log(x))</span></code>.</p>
<p>The error occurs because we have mistakenly made <code class="docutils literal notranslate"><span class="pre">ax</span></code> a NumPy array, and
a NumPy array has no <code class="docutils literal notranslate"><span class="pre">plot</span></code> method.</p>
<p>But let’s pretend that we don’t understand this for the moment.</p>
<p>We might suspect there’s something wrong with <code class="docutils literal notranslate"><span class="pre">ax</span></code> but when we try to
investigate this object, we get the following exception:</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">3</span><span class="o">-</span><span class="n">b00e77935981</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">ax</span>

<span class="ne">NameError</span>: name &#39;ax&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>The problem is that <code class="docutils literal notranslate"><span class="pre">ax</span></code> was defined inside <code class="docutils literal notranslate"><span class="pre">plot_log()</span></code>, and the name
is lost once that function terminates.</p>
<p>Let’s try doing it a different way.</p>
<p>We run the first cell block again, generating the same error</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_log</span><span class="p">():</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plot_log</span><span class="p">()</span>  <span class="c1"># Call the function, generate plot</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">4</span><span class="o">-</span><span class="n">c32a2280f47b</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> 
<span class="ne">----&gt; </span><span class="mi">7</span> <span class="n">plot_log</span><span class="p">()</span>  <span class="c1"># Call the function, generate plot</span>

<span class="nn">&lt;ipython-input-4-c32a2280f47b&gt;</span> in <span class="ni">plot_log</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>     <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="ne">----&gt; </span><span class="mi">4</span>     <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> 

<span class="ne">AttributeError</span>: &#39;numpy.ndarray&#39; object has no attribute &#39;plot&#39;
</pre></div>
</div>
<img alt="../_images/debugging_7_1.png" src="../_images/debugging_7_1.png" />
</div>
</div>
<p>But this time we type in the following cell block</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">debug</span>
</pre></div>
</div>
<p>You should be dropped into a new prompt that looks something like this</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ipdb&gt;
</pre></div>
</div>
<p>(You might see <code class="docutils literal notranslate"><span class="pre">pdb\&gt;</span></code> instead)</p>
<p>Now we can investigate the value of our variables at this point in the
program, step forward through the code, etc.</p>
<p>For example, here we simply type the name <code class="docutils literal notranslate"><span class="pre">ax</span></code> to see what’s happening
with this object:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ipdb&gt; ax
array([&lt;matplotlib.axes.AxesSubplot object at 0x290f5d0&gt;,
       &lt;matplotlib.axes.AxesSubplot object at 0x2930810&gt;], dtype=object)
</pre></div>
</div>
<p>It’s now very clear that <code class="docutils literal notranslate"><span class="pre">ax</span></code> is an array, which clarifies the source
of the problem.</p>
<p>To find out what else you can do from inside <code class="docutils literal notranslate"><span class="pre">ipdb</span></code> (or <code class="docutils literal notranslate"><span class="pre">pdb</span></code>), use the
online help</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ipdb&gt; h

Documented commands (type help &lt;topic&gt;):
========================================
EOF    bt         cont      enable  jump  pdef   r        tbreak   w
a      c          continue  exit    l     pdoc   restart  u        whatis
alias  cl         d         h       list  pinfo  return   unalias  where
args   clear      debug     help    n     pp     run      unt
b      commands   disable   ignore  next  q      s        until
break  condition  down      j       p     quit   step     up

Miscellaneous help topics:
==========================
exec  pdb

Undocumented commands:
======================
retval  rv

ipdb&gt; h c
c(ont(inue))
Continue execution, only stop when a breakpoint is encountered.
</pre></div>
</div>
</div>
<div class="section" id="setting-a-break-point">
<h3>Setting a Break Point<a class="headerlink" href="#setting-a-break-point" title="Permalink to this headline">¶</a></h3>
<p>The preceding approach is handy but sometimes insufficient.</p>
<p>Consider the following modified version of our function above</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_log</span><span class="p">():</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plot_log</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/debugging_9_0.png" src="../_images/debugging_9_0.png" />
</div>
</div>
<p>Here the original problem is fixed, but we’ve accidentally written
<code class="docutils literal notranslate"><span class="pre">np.logspace(1,</span> <span class="pre">2,</span> <span class="pre">10)</span></code> instead of <code class="docutils literal notranslate"><span class="pre">np.linspace(1,</span> <span class="pre">2,</span> <span class="pre">10)</span></code>.</p>
<p>Now there won’t be any exception, but the plot won’t look right.</p>
<p>To investigate, it would be helpful if we could inspect variables like
<code class="docutils literal notranslate"><span class="pre">x</span></code> during execution of the function.</p>
<p>To this end, we add a “break point” by inserting <code class="docutils literal notranslate"><span class="pre">breakpoint()</span></code> inside
the function code block</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_log</span><span class="p">():</span>
    <span class="n">breakpoint</span><span class="p">()</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plot_log</span><span class="p">()</span>
</pre></div>
</div>
<p>Now let’s run the script, and investigate via the debugger</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt; &lt;ipython-input-6-a188074383b7&gt;(6)plot_log()
-&gt; fig, ax = plt.subplots()
(Pdb) n
&gt; &lt;ipython-input-6-a188074383b7&gt;(7)plot_log()
-&gt; x = np.logspace(1, 2, 10)
(Pdb) n
&gt; &lt;ipython-input-6-a188074383b7&gt;(8)plot_log()
-&gt; ax.plot(x, np.log(x))
(Pdb) x
array([ 10.        ,  12.91549665,  16.68100537,  21.5443469 ,
        27.82559402,  35.93813664,  46.41588834,  59.94842503,
        77.42636827, 100.        ])
</pre></div>
</div>
<p>We used <code class="docutils literal notranslate"><span class="pre">n</span></code> twice to step forward through the code (one line at a time).</p>
<p>Then we printed the value of <code class="docutils literal notranslate"><span class="pre">x</span></code> to see what was happening with that
variable.</p>
<p>To exit from the debugger, use <code class="docutils literal notranslate"><span class="pre">q</span></code>.</p>
</div>
</div>
<div class="section" id="other-useful-magics">
<h2>Other Useful Magics<a class="headerlink" href="#other-useful-magics" title="Permalink to this headline">¶</a></h2>
<p>In this lecture, we used the <code class="docutils literal notranslate"><span class="pre">%debug</span></code> IPython magic.</p>
<p>There are many other useful magics:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">%precision</span> <span class="pre">4</span></code> sets printed precision for floats to 4 decimal places</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%whos</span></code> gives a list of variables and their values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%quickref</span></code> gives a list of magics</p></li>
</ul>
<p>The full list of magics is
<a class="reference external" href="http://ipython.readthedocs.org/en/stable/interactive/magics.html">here</a>.</p>
</div>
</div>


              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="python_advanced_features.html" title="previous page">More Language Features</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Thomas J. Sargent and John Stachurski<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../_static/js/index.js"></script>
    
  </body>
</html>